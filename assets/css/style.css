/* assets/css/style.css — NORDIC MINIMAL (light, clean, language-learning friendly) */

*{ box-sizing: border-box; }
html, body { height: 100%; }
body{ font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }


:root{
/* Nordic palette */
--bg: #f6f8fb;
--bg2:#eef2f7;
--paper:#ffffff;

--text:#0f172a;       /* slate 900 */
--muted:#475569;      /* slate 600 */
--muted2:#64748b;     /* slate 500 */

--stroke:#e2e8f0;     /* slate 200 */
--stroke2:#cbd5e1;    /* slate 300 */

--accent:#0ea5e9;     /* sky 500 */
--accent2:#14b8a6;    /* teal 500 */
--ok:#16a34a;         /* green 600 */
--warn:#f59e0b;       /* amber 500 */
--bad:#ef4444;        /* red 500 */

--shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
--shadow2: 0 18px 52px rgba(15, 23, 42, 0.10);

--r: 14px;
--r2: 18px;

--speed: 140ms;
--ease: cubic-bezier(.2,.9,.2,1);

--mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
--sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

body{
margin:0;
font-family: var(--sans);
color: var(--text);
background:
radial-gradient(1000px 480px at 10% -10%, rgba(14,165,233,0.12), transparent 60%),
radial-gradient(900px 440px at 90% 0%, rgba(20,184,166,0.10), transparent 58%),
linear-gradient(180deg, var(--bg), var(--bg2));
overflow-x: hidden;
}

a{ color: inherit; text-decoration: none; }
.muted{ color: var(--muted); }

/* ===== Layout (index.html) ===== */
.container{
max-width: 1100px;
margin: 0 auto;
padding: 18px 16px 70px;
}

.footer{
max-width: 1100px;
margin: 0 auto;
padding: 20px 16px 30px;
border-top: 1px solid var(--stroke);
color: var(--muted2);
}

/* ===== Topbar ===== */
.topbar{
position: sticky;
top: 0;
z-index: 30;
display:flex;
align-items:center;
justify-content: space-between;
gap: 12px;

padding: 12px 16px;
background: rgba(246,248,251,0.72);
backdrop-filter: blur(10px);
border-bottom: 1px solid rgba(226,232,240,0.9);
}

.topbar .brand{
font-weight: 850;
letter-spacing: .2px;
display:flex;
align-items:center;
gap: 10px;
}

.brand-badge{
width: 10px;
height: 10px;
border-radius: 999px;
background: linear-gradient(135deg, var(--accent), var(--accent2));
box-shadow: 0 0 0 6px rgba(14,165,233,0.12);
}

.topnav{
display:flex;
gap: 10px;
flex-wrap: wrap;
}

/* ===== App root ===== */
#app{ max-width: 1100px; margin: 0 auto; }
.stack{ display:grid; gap: 16px; }
.grid{ display:grid; gap: 16px; grid-template-columns: 1fr; }
.grid.grid-2{ grid-template-columns: 1fr; }
.row{ display:flex; align-items:center; gap: 12px; flex-wrap: wrap; }
.row.between{ justify-content: space-between; }

@media (min-width: 860px){
.grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
.grid.grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}

/* ===== Card ===== */
.card{
background: var(--paper);
border: 1px solid var(--stroke);
border-radius: var(--r2);
padding: 16px;
box-shadow: var(--shadow);
animation: fadeUp 200ms var(--ease) both;
}

.card:hover{
border-color: var(--stroke2);
box-shadow: var(--shadow2);
transform: translateY(-1px);
transition: transform var(--speed) var(--ease), box-shadow var(--speed) var(--ease), border-color var(--speed) var(--ease);
}

.card.error{
border-color: rgba(239,68,68,0.35);
box-shadow: 0 12px 44px rgba(239,68,68,0.10);
}

/* ===== Headings ===== */
h1,h2{ margin: 0 0 8px 0; line-height: 1.15; }
h1{ font-size: 28px; letter-spacing: 0.2px; }
h2{ font-size: 18px; }
@media (min-width: 860px){ h1{ font-size: 34px; } }

/* ===== Buttons ===== */
.btn{
appearance: none;
border: 1px solid var(--stroke);
background: var(--paper);
color: var(--text);
padding: 10px 14px;
border-radius: 12px;
cursor: pointer;
transition:
transform var(--speed) var(--ease),
background var(--speed) var(--ease),
border-color var(--speed) var(--ease),
box-shadow var(--speed) var(--ease);
user-select: none;
}

.btn:hover{
background: rgba(14,165,233,0.06);
border-color: rgba(14,165,233,0.25);
transform: translateY(-1px);
}

.btn:active{ transform: translateY(0) scale(0.99); }

.btn:focus-visible{
outline: 3px solid rgba(14,165,233,0.25);
outline-offset: 2px;
}

.btn.primary{
border-color: rgba(14,165,233,0.35);
background: linear-gradient(180deg, rgba(14,165,233,0.10), rgba(14,165,233,0.06));
}

.btn.ghost{
background: transparent;
}

.btn.danger{
border-color: rgba(239,68,68,0.35);
background: rgba(239,68,68,0.06);
}

/* ===== Badges ===== */
.badge{
display:inline-flex;
align-items:center;
justify-content:center;
padding: 4px 10px;
border-radius: 999px;
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.03);
font-size: 12px;
color: var(--muted);
}

.badge.ok{
border-color: rgba(22,163,74,0.30);
background: rgba(22,163,74,0.08);
color: #166534;
}
.badge.warn{
border-color: rgba(245,158,11,0.35);
background: rgba(245,158,11,0.10);
color: #92400e;
}

/* ===== Hero ===== */
.hero{
border-radius: var(--r2);
border: 1px solid rgba(226,232,240,0.9);
background:
radial-gradient(900px 300px at 10% 0%, rgba(14,165,233,0.16), transparent 60%),
radial-gradient(900px 320px at 90% 10%, rgba(20,184,166,0.12), transparent 60%),
var(--paper);
box-shadow: var(--shadow2);
padding: 18px;
}

.hero-actions{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 12px; }

/* ===== Section title ===== */
.section-title{
display:flex;
align-items:center;
gap: 10px;
margin-bottom: 10px;
}

.section-title .chip{
width: 10px; height: 10px;
border-radius: 999px;
background: linear-gradient(135deg, var(--accent), var(--accent2));
box-shadow: 0 0 0 6px rgba(14,165,233,0.10);
}

/* ===== Lesson list ===== */
.lesson-row{
display:flex;
align-items:center;
justify-content: space-between;
gap: 12px;
padding: 12px;
border-radius: 14px;
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.01);
}

.lesson-row:hover{
border-color: rgba(14,165,233,0.25);
background: rgba(14,165,233,0.04);
}

.lesson-row.done{
border-color: rgba(22,163,74,0.28);
background: rgba(22,163,74,0.05);
}

.lesson-info{ display:flex; flex-direction:column; gap: 4px; }
.lesson-title{ font-weight: 850; letter-spacing: 0.2px; }
.lesson-actions{ display:flex; align-items:center; gap: 10px; flex-wrap: wrap; }

/* ===== Article content ===== */
.article{
max-width: 86ch;
margin: 0 auto;
display: grid;
gap: 12px;
}

.sheet{
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.015);
border-radius: 14px;
padding: 14px;
}

.article p{
margin: 0;
color: var(--text);
font-size: 16px;
line-height: 1.75;
}

.article h3{
margin: 14px 0 2px 0;
font-size: 13px;
letter-spacing: 1.2px;
text-transform: uppercase;
color: var(--muted);
}

.article h3 .hl{
display:inline-block;
padding: 2px 8px;
border-radius: 999px;
border: 1px solid var(--stroke);
background: rgba(14,165,233,0.06);
color: #0b4a6f;
}

.article ul{
margin: 0;
padding-left: 18px;
display: grid;
gap: 8px;
}

.article li{ color: var(--text); line-height: 1.6; }

.lead{
border: 1px solid rgba(14,165,233,0.25);
background: linear-gradient(180deg, rgba(14,165,233,0.10), rgba(14,165,233,0.04));
border-radius: 14px;
padding: 12px 14px;
}

.lead .k{
font-size: 12px;
letter-spacing: 1.1px;
text-transform: uppercase;
color: #0b4a6f;
margin-bottom: 6px;
display:flex;
align-items:center;
gap: 8px;
}

.lead .k:before{
content:"";
width: 10px; height: 10px;
border-radius: 999px;
background: linear-gradient(135deg, var(--accent), var(--accent2));
box-shadow: 0 0 0 6px rgba(14,165,233,0.12);
}

/* Callout */
.callout{
border: 1px solid rgba(20,184,166,0.28);
background: linear-gradient(180deg, rgba(20,184,166,0.10), rgba(20,184,166,0.04));
border-radius: 14px;
padding: 12px 14px;
}

.callout .label{
font-size: 12px;
letter-spacing: 1.1px;
text-transform: uppercase;
color: #0f766e;
margin-bottom: 6px;
display:flex;
align-items:center;
gap: 8px;
}

.callout .label:before{
content:"";
width: 10px; height: 10px;
border-radius: 999px;
background: linear-gradient(135deg, var(--accent2), var(--accent));
box-shadow: 0 0 0 6px rgba(20,184,166,0.12);
}

/* ===== Dialogue bubbles ===== */
.dialogue{ display:grid; gap: 10px; }

.bubble{
border: 1px solid var(--stroke);
background: var(--paper);
border-radius: 16px;
padding: 12px 14px;
max-width: 82%;
box-shadow: 0 10px 26px rgba(15,23,42,0.06);
}

.bubble.a{
justify-self: start;
border-top-left-radius: 8px;
background: linear-gradient(180deg, rgba(14,165,233,0.08), rgba(15,23,42,0.00)), var(--paper);
}

.bubble.b{
justify-self: end;
border-top-right-radius: 8px;
background: linear-gradient(180deg, rgba(167,139,250,0.10), rgba(15,23,42,0.00)), var(--paper);
}

.bubble .meta{
display:flex;
align-items:center;
gap: 10px;
margin-bottom: 6px;
color: var(--muted2);
font-size: 12px;
letter-spacing: 0.9px;
text-transform: uppercase;
}

.bubble .tag{
display:inline-flex;
align-items:center;
justify-content:center;
width: 22px;
height: 22px;
border-radius: 999px;
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.03);
font-weight: 850;
color: var(--text);
}

.bubble .sv{ font-weight: 850; letter-spacing: 0.2px; }
.bubble .pron{ margin-top: 4px; color: var(--muted); font-size: 13px; font-family: var(--mono); }
.bubble .fr{ margin-top: 8px; color: var(--text); }

/* ===== Breakdown ===== */
.breakdown{ display:grid; gap: 10px; }

.break-row{
display:grid;
grid-template-columns: 1fr;
gap: 10px;
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.01);
border-radius: 14px;
padding: 12px 14px;
}

@media (min-width: 780px){
.break-row{ grid-template-columns: 1fr 1fr; align-items: start; }
}

.break-sv{
font-weight: 850;
letter-spacing: 0.2px;
}
.break-fr{
color: var(--text);
}

/* ===== Examples ===== */
.examples{ display:grid; gap: 12px; }

.example{
border: 1px solid var(--stroke);
background: rgba(15,23,42,0.01);
border-radius: 14px;
padding: 12px 14px;
position: relative;
overflow:hidden;
}

.example:before{
content:"";
position:absolute; left:0; top:0; bottom:0;
width: 5px;
background: linear-gradient(180deg, var(--accent), var(--accent2));
opacity: 0.85;
}

.example .sv{ font-weight: 850; margin-left: 10px; }
.example .pron{ margin-left: 10px; color: var(--muted); font-size: 13px; font-family: var(--mono); }
.example .fr{ margin-left: 10px; margin-top: 6px; color: var(--text); }

/* ===== Tables ===== */
.table-wrap{
overflow:auto;
border-radius: 14px;
border: 1px solid var(--stroke);
background: var(--paper);
}

table{ width: 100%; border-collapse: collapse; min-width: 560px; }
thead th{
text-align:left;
font-size: 12px;
letter-spacing: 1.0px;
text-transform: uppercase;
color: var(--muted);
background: rgba(15,23,42,0.02);
border-bottom: 1px solid var(--stroke);
padding: 10px 12px;
}

tbody td{
padding: 10px 12px;
border-bottom: 1px solid rgba(226,232,240,0.7);
color: var(--text);
}

tbody tr:hover td{ background: rgba(14,165,233,0.04); }

/* ===== Responsive ===== */
@media (max-width: 520px){
.btn{ width: 100%; justify-content:center; }
table{ min-width: 520px; }
.bubble{ max-width: 100%; }
}

/* ===== Motion ===== */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

@keyframes fadeUp{
from{ opacity:0; transform: translateY(8px); }
to{ opacity:1; transform: translateY(0); }
}

/* ================================
   PATCH — Dialogue lisible (A/B)
   (ne casse rien si app.js reste identique)
   ================================ */

.dialogue{
  display: grid;
  gap: 12px;
}

.bubble{
  max-width: 86%;
  position: relative;
  overflow: hidden;
  box-shadow: 0 8px 18px rgba(15,23,42,0.06);
}

/* Barre latérale A/B */
.bubble:before{
  content:"";
  position:absolute;
  left:0; top:0; bottom:0;
  width: 4px;
  opacity: 0.9;
}
.bubble.a:before{
  background: linear-gradient(180deg, var(--accent), var(--accent2));
}
.bubble.b:before{
  background: linear-gradient(180deg, rgba(167,139,250,0.95), rgba(167,139,250,0.35));
}

/* Meta moins agressive */
.bubble .meta{
  text-transform: none;
  letter-spacing: .6px;
  font-size: 11px;
}

/* SV + FR + Pron plus hiérarchisés */
.bubble .sv{
  font-weight: 900;
  font-size: 16px;
  line-height: 1.45;
}

.bubble .fr{
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px dashed rgba(203,213,225,0.9);
  color: var(--muted);
  font-size: 15px;
  line-height: 1.55;
}

.bubble .pron{
  margin-top: 8px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(226,232,240,0.9);
  background: rgba(15,23,42,0.02);
  color: var(--muted2);
  font-size: 12.5px;
  font-family: var(--mono);
}

/* Mobile: bulles plus larges et alignement plus net */
@media (max-width: 520px){
  .bubble{ max-width: 100%; }
  .bubble.a{ justify-self: stretch; }
  .bubble.b{ justify-self: stretch; }
}

/* === Svenska Mastare UI vNext (Sidebar + Lesson Organized) === */

/* Layout */
body{ background: var(--bg); color: var(--text); }
.main{
  margin-left: 260px;
  min-height: 100vh;
  padding: 22px 22px 40px;
}
@media (max-width: 1024px){
  .main{ margin-left: 0; padding: 18px 14px 40px; }
}

/* Sidebar */
.sidebar{
  position: fixed;
  inset: 0 auto 0 0;
  width: 260px;
  background: rgba(255,255,255,0.92);
  border-right: 1px solid var(--stroke);
  backdrop-filter: blur(10px);
  padding: 18px 14px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  z-index: 60;
}
html.dark .sidebar{
  background: rgba(2,6,23,0.50);
  border-right-color: rgba(226,232,240,0.12);
}
.sidebar-head{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 10px 6px;
}
.logo{
  width: 42px;
  height: 42px;
  border-radius: 14px;
  display:grid;
  place-items:center;
  background: linear-gradient(180deg, var(--primary), var(--primary2));
  color: #fff;
  font-weight: 900;
  box-shadow: 0 16px 26px rgba(0,82,153,0.22);
}
.logo-text .t1{ font-weight: 900; letter-spacing:-0.02em; }
.logo-text .t2{ font-size: 12px; color: var(--muted); margin-top: -2px; }
.side-nav{ display:flex; flex-direction:column; gap: 6px; padding: 4px; }
.side-item{
  display:flex;
  align-items:center;
  gap: 10px;
  width: 100%;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  font-weight: 700;
  cursor: pointer;
  transition: transform var(--speed) var(--ease), background var(--speed) var(--ease), border-color var(--speed) var(--ease), color var(--speed) var(--ease);
}
.side-item .material-icons-outlined{ font-size: 20px; }
.side-item:hover{
  background: rgba(0,82,153,0.06);
  border-color: rgba(0,82,153,0.14);
  color: var(--text);
  transform: translateY(-1px);
}
.side-item.active{
  background: rgba(0,82,153,0.10);
  border-color: rgba(0,82,153,0.18);
  color: var(--primary);
}
.side-item.subtle{
  background: rgba(100,116,139,0.08);
  border-color: rgba(100,116,139,0.14);
}
html.dark .side-item.subtle{
  background: rgba(148,163,184,0.10);
  border-color: rgba(148,163,184,0.14);
}
.sidebar-foot{ margin-top:auto; padding: 6px 4px 0; }

/* Mobile topbar + overlay */
.m-topbar{
  display:none;
  position: sticky;
  top: 0;
  z-index: 70;
  height: 58px;
  padding: 10px 12px;
  align-items:center;
  justify-content: space-between;
  background: rgba(255,255,255,0.78);
  border-bottom: 1px solid var(--stroke);
  backdrop-filter: blur(10px);
}
html.dark .m-topbar{
  background: rgba(2,6,23,0.38);
  border-bottom-color: rgba(226,232,240,0.12);
}
.m-brand{ font-weight: 900; letter-spacing: -0.01em; color: var(--text); }
.icon-btn{
  width: 42px;
  height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(100,116,139,0.18);
  background: rgba(255,255,255,0.70);
  cursor:pointer;
  display:grid;
  place-items:center;
}
html.dark .icon-btn{
  background: rgba(2,6,23,0.18);
  border-color: rgba(148,163,184,0.18);
}
.overlay{
  display:none;
  position: fixed;
  inset: 0;
  background: rgba(2,6,23,0.38);
  z-index: 59;
}
@media (max-width: 1024px){
  .m-topbar{ display:flex; }
  .sidebar{
    transform: translateX(-110%);
    transition: transform 220ms var(--ease);
  }
  .sidebar.open{ transform: translateX(0); }
  .overlay.show{ display:block; }
}

/* ===== Lesson Organized components (pill cards etc.) ===== */
.section-pill{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: var(--pill);
  font-size: 11px;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  background: rgba(0,82,153,0.10);
  border: 1px solid rgba(0,82,153,0.16);
  color: var(--primary);
}
.lesson-h2{ margin:0; font-size: 22px; font-weight: 900; letter-spacing: -0.01em; }

.pill-grid{
  display:grid;
  gap: 12px;
  grid-template-columns: 1fr;
}
@media (min-width: 860px){
  .pill-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.pill-card{
  background: var(--paper);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: 14px;
  box-shadow: var(--shadow);
  transition: transform var(--speed) var(--ease), box-shadow var(--speed) var(--ease), border-color var(--speed) var(--ease);
}
.pill-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow2);
  border-color: rgba(0,82,153,0.18);
}
.pill-card .top{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 8px;
}
.pill-card .sv{
  color: var(--primary);
  font-weight: 900;
  font-size: 16px;
}
.pill-card .idx{ font-size: 11px; color: var(--muted); }
.pill-card .pron{
  font-family: var(--mono);
  font-size: 12px;
  font-style: italic;
  color: var(--muted);
}
.pill-card .fr{
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(226,232,240,0.35);
  color: var(--muted2);
  font-weight: 600;
  font-size: 13px;
}

.production{
  background: rgba(0,82,153,0.06);
  border: 2px dashed rgba(0,82,153,0.22);
  border-radius: 22px;
  padding: 18px;
}
html.dark .production{
  background: rgba(0,82,153,0.08);
  border-color: rgba(34,211,238,0.22);
}
.production .hint{
  background: var(--paper);
  border: 1px solid rgba(0,82,153,0.14);
  border-radius: 18px;
  padding: 14px;
  color: var(--muted);
  font-style: italic;
  font-size: 16px;
}

.prof-grid-2{
  display:grid;
  gap: 14px;
  grid-template-columns: 1fr;
}
@media (min-width: 860px){
  .prof-grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.prof-note{
  background: var(--paper);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  padding: 16px;
  box-shadow: var(--shadow);
  display:grid;
  gap: 10px;
}
.prof-note .tag{
  display:flex;
  align-items:center;
  gap: 8px;
  font-weight: 900;
  font-size: 11px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
}
.prof-note .tag .dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
}
.dot-amber{ background: #f59e0b; }
.dot-rose{ background: #fb7185; }
.dot-emerald{ background: #34d399; }
.dot-blue{ background: var(--primary); }
.prof-note p{
  margin:0;
  color: var(--muted2);
  line-height: 1.65;
  font-size: 14px;
}

.lesson-cta-row{
  display:flex;
  gap: 12px;
  flex-wrap: wrap;
  padding-top: 14px;
  border-top: 1px solid rgba(226,232,240,0.35);
}
.lesson-cta-row .btn{
  flex: 1;
  min-width: 220px;
  padding: 14px 16px;
  border-radius: 16px;
  font-weight: 900;
}
.lesson-cta-row .btn.next{
  flex: 2;
  background: var(--primary);
  border-color: rgba(0,82,153,0.28);
  color: #fff;
  box-shadow: 0 18px 30px rgba(0,82,153,0.20);
}
.lesson-cta-row .btn.next:hover{ transform: translateY(-1px); }
